(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2919faad"],{7022:function(e,t,n){"use strict";var r=n("ecfa"),a=n.n(r);a.a},c405:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return c}));var r=n("b775");function a(e){return Object(r["a"])({url:"/sys/categories",method:"get",params:e})}function i(){return Object(r["a"])({url:"/sys/categories/all",method:"get"})}function s(e){return Object(r["a"])({url:"/sys/categories",method:"put",data:e})}function o(e){return Object(r["a"])({url:"/sys/categories/".concat(e),method:"delete",params:[]})}function c(e){return Object(r["a"])({url:"/sys/categories",method:"post",data:e})}},ecfa:function(e,t,n){},f4ba:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("el-button",{staticClass:"btn-add",attrs:{type:"primary"},on:{click:e.addEdit}},[e._v("\n    添加分类\n  ")]),e._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.list,border:"",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{align:"center",label:"ID",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[n("span",[e._v(e._s(r.id))])]}}])}),e._v(" "),n("el-table-column",{attrs:{"min-width":"300px",label:"分类名称"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[r.edit?[n("el-input",{staticClass:"edit-input",attrs:{size:"small"},model:{value:r.name,callback:function(t){e.$set(r,"name",t)},expression:"row.name"}}),e._v(" "),n("el-button",{staticClass:"cancel-btn",attrs:{size:"small",icon:"el-icon-refresh",type:"warning"},on:{click:function(t){return e.cancelEdit(r)}}},[e._v("\n            cancel\n          ")])]:n("span",[e._v(e._s(r.name))])]}}])}),e._v(" "),n("el-table-column",{attrs:{align:"center",label:"Actions",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[r.edit?n("el-button",{attrs:{type:"success",size:"small",icon:"el-icon-circle-check-outline"},on:{click:function(t){return e.confirmEdit(r)}}},[e._v("\n          Ok\n        ")]):n("div",[n("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-edit"},on:{click:function(e){r.edit=!r.edit}}},[e._v("\n            编辑\n          ")]),e._v(" "),n("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete"},on:{click:function(t){return e.removeById(r.id)}}},[e._v("\n            删除\n          ")])],1)]}}])})],1),e._v(" "),n("el-dialog",{attrs:{title:"添加分类",visible:e.addDialogVisible,width:"30%"},on:{"update:visible":function(t){e.addDialogVisible=t}}},[n("el-form",{ref:"addFormRef",attrs:{rules:e.addFormRules,model:e.addForm,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"标签名称",prop:"name"}},[n("el-input",{model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"Url"}},[n("el-input",{model:{value:e.addForm.url,callback:function(t){e.$set(e.addForm,"url",t)},expression:"addForm.url"}})],1)],1),e._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.addDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.addTag}},[e._v("确 定")])],1)],1)],1)},a=[],i=(n("7f7f"),n("96cf"),n("3b8d")),s=n("c405"),o={name:"InlineEditTable",filters:{statusFilter:function(e){var t={published:"success",draft:"info",deleted:"danger"};return t[e]}},data:function(){return{list:null,listLoading:!0,listQuery:{page:1,limit:10},addDialogVisible:!1,addForm:{name:"",url:""},addFormRules:{name:[{required:!0,message:"请输入分类名称",trigger:"blur"}]}}},created:function(){this.getList()},methods:{getList:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.listLoading=!0,e.next=3,Object(s["b"])(this.listQuery);case 3:t=e.sent,n=t.data,r=n.items,this.list=r.map((function(e){return a.$set(e,"edit",!1),e.originalName=e.name,e})),console.log(this.list),this.listLoading=!1;case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),cancelEdit:function(e){e.name=e.originalName,e.edit=!1,this.$message({message:"The title has been restored to the original value",type:"warning"})},confirmEdit:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.edit=!1,e.next=3,Object(s["e"])(t);case 3:if(n=e.sent,200===n.code){e.next=6;break}return e.abrupt("return",this.$message.error("更新失败"));case 6:t.originalName=t.name,this.$message({message:"更新成功",type:"success"});case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),removeById:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$confirm("请问是否要删除该商品","删除提示",{confirmButtonText:"确认删除",cancelButtonText:"取消",type:"warning"}).catch((function(e){return e}));case 2:if(n=e.sent,"confirm"===n){e.next=5;break}return e.abrupt("return",this.$message.info("已经取消删除"));case 5:return e.next=7,Object(s["c"])(t);case 7:if(r=e.sent,console.log(r),200===r.code){e.next=11;break}return e.abrupt("return",this.$message.error(r.message));case 11:return this.getList(),e.abrupt("return",this.$message.success(r.message));case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),addEdit:function(){this.addDialogVisible=!0},addTag:function(){var e=this;this.$refs["addFormRef"].validate(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log("valid:"+n),n){t.next=3;break}return t.abrupt("return");case 3:return console.log(e.addForm),t.next=6,Object(s["d"])(e.addForm);case 6:if(r=t.sent,200===r.code){t.next=9;break}return t.abrupt("return",e.$message.error("添加分类失败"));case 9:e.$message.success("添加分类成功"),e.getList(),e.addDialogVisible=!1;case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}},c=o,l=(n("7022"),n("2877")),u=Object(l["a"])(c,r,a,!1,null,"1de16cd9",null);t["default"]=u.exports}}]);